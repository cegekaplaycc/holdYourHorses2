@(horses: List[Horse], horseForm: Form[Horse])

@main("Horse Market"){

<div class="page-header">
    <h1>Horse Market</h1>
</div>

<div class="row">
    <div class="span12">
        <table class="table table-striped table-bordered">
            <thead>
            <tr>
                <th>Price</th>
                <th>&nbsp;</th>
            </tr>
            </thead>
            <tbody>
            	
            	<script type="text/javascript">
            		$(function(){
            			$(".buyHorseBtn").click(function() {
            				$("#horseId").val($(this).data("horseid"));
            			});
            			
            		});
            	</script>
            
				@for(horse <- horses){
				<tr>
					<td>@horse.price</td>
					<td><a href="#confirmBuyHorseModal" class="buyHorseBtn btn btn-primary" data-toggle="modal" data-horseid="@horse.id">Buy</a></td>
				</tr>
				}
			</tbody>
		</table>
	</div>
</div>


<div class="modal hide fade" id="confirmBuyHorseModal">
    <div class="modal-header">
        <button class="close" data-dismiss="modal">x</button>
        <h3>Buy this horse?</h3>
    </div>
    <div class="modal-body">
        <p>
            Are you sure you want to buy this horse? <br/>
        </p>
    </div>
    <div class="modal-footer">
        <a class="btn" data-dismiss="modal">No, thanks ...</a>

		@helper.form(action = routes.HorseMarket.buyHorse()) {
	        <input type="hidden" id="horseId" name="id" />
	        <input type="submit" class="btn btn-primary" value="Yes, buy this horse!" />
		}        
    </div>
</div>



}